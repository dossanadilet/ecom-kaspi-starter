# Kaspi E-commerce Starter (MVP)

üöÄ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞** –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-–º–∞–≥–∞–∑–∏–Ω–æ–º –Ω–∞ Kaspi.kz —Å AI-–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ–º, –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–æ–º –∑–∞–¥–∞—á –∏ Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è–º–∏.

![Version](https://img.shields.io/badge/version-2.0.0-blue.svg)
![Python](https://img.shields.io/badge/python-3.11+-green.svg)
![License](https://img.shields.io/badge/license-MIT-orange.svg)

## üéØ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞**

- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥** Kaspi.kz 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å
- üìä **AI-–ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ** —Å–ø—Ä–æ—Å–∞ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–µ–Ω  
- üí∞ **–≠–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–µ —Ä–∞—Å—á–µ—Ç—ã** —Å —É—á–µ—Ç–æ–º –≤—Å–µ—Ö –∑–∞—Ç—Ä–∞—Ç
- üì¶ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Å–∞–º–∏** (ROP, Safety Stock, EOQ)
- üì± **Telegram-—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø–æ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–º—É —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é
- ü§ñ **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è** –±–µ–∑ —É—á–∞—Å—Ç–∏—è —á–µ–ª–æ–≤–µ–∫–∞

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1) –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2) –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Telegram Bot (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

#### –°–ø–æ—Å–æ–± 1: –ß–µ—Ä–µ–∑ secrets.toml (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Streamlit)
```toml
# –§–∞–π–ª: .streamlit/secrets.toml
TG_BOT_TOKEN = "1234567890:AAF7qR5jD8mZ1Gh2Tk3LnOp4Qs9XvUw1ABC"
TG_CHAT_ID = "-1001234567890"
```

#### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ .env —Ñ–∞–π–ª
```bash
# –§–∞–π–ª: .env
TG_BOT_TOKEN=1234567890:AAF7qR5jD8mZ1Gh2Tk3LnOp4Qs9XvUw1ABC
TG_CHAT_ID=-1001234567890
```

#### –°–ø–æ—Å–æ–± 3: –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
set TG_BOT_TOKEN=1234567890:AAF7qR5jD8mZ1Gh2Tk3LnOp4Qs9XvUw1ABC
set TG_CHAT_ID=-1001234567890
```

#### –ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å —Ç–æ–∫–µ–Ω –∏ Chat ID:
1. **–°–æ–∑–¥–∞–π—Ç–µ –±–æ—Ç–∞**: –ù–∞–ø–∏—à–∏—Ç–µ @BotFather ‚Üí `/newbot` ‚Üí —Å–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
2. **–ü–æ–ª—É—á–∏—Ç–µ Chat ID**: 
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ —á–∞—Ç
   - –ù–∞–ø–∏—à–∏—Ç–µ –±–æ—Ç—É —Å–æ–æ–±—â–µ–Ω–∏–µ
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ: `https://api.telegram.org/bot<TOKEN>/getUpdates`
   - –ù–∞–π–¥–∏—Ç–µ `"chat":{"id":-1234567890}`

### 3) –ó–∞–ø—É—Å–∫ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
```bash
streamlit run app/main.py
```

### 4) –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
```bash
# Windows
start_service.bat

# –ò–ª–∏ –≤—Ä—É—á–Ω—É—é
python service.py start
```

## ü§ñ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è

### –ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á
- **–°–±–æ—Ä –¥–∞–Ω–Ω—ã—Ö**: 3 —Ä–∞–∑–∞ –≤ –¥–µ–Ω—å (08:00, 14:00, 20:00)
- **–ü—Ä–æ–≥–Ω–æ–∑—ã**: –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–∞—è —á–∞—Å—Ç–æ—Ç–∞ (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ/–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ/–∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏/–µ–∂–µ–º–µ—Å—è—á–Ω–æ)
- **–£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ Telegram

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
1. –û—Ç–∫—Ä–æ–π—Ç–µ –≤–∫–ª–∞–¥–∫—É "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è" –≤ Streamlit
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
3. –í—ã–±–µ—Ä–∏—Ç–µ —á–∞—Å—Ç–æ—Ç—É —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
4. –ó–∞–ø—É—Å—Ç–∏—Ç–µ/–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫

### –ö–æ–º–∞–Ω–¥—ã —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–µ—Ä–≤–∏—Å–æ–º
```bash
python service.py start    # –ó–∞–ø—É—Å–∫
python service.py stop     # –û—Å—Ç–∞–Ω–æ–≤–∫–∞  
python service.py status   # –°—Ç–∞—Ç—É—Å
python service.py test     # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ
```

## üìä –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

### –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏
- üîÑ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–∞—Ä—Å–∏–Ω–≥** Kaspi.kz (—Å–º–∞—Ä—Ç—Ñ–æ–Ω—ã, –Ω–æ—É—Ç–±—É–∫–∏, –ø–ª–∞–Ω—à–µ—Ç—ã)
- üí∞ **–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏** —Å —É—á–µ—Ç–æ–º –¥–æ—Å—Ç–∞–≤–∫–∏ –∏ –ø–æ—à–ª–∏–Ω
- üìà **–ü—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–ø—Ä–æ—Å–∞** –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Ü–µ–Ω
- üì¶ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∑–∞–ø–∞—Å–∞–º–∏** (ROP, Safety Stock, EOQ)
- ü§ñ **–ü–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á** —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ–º
- üì± **Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è** –ø–æ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º –∞–Ω–∞–ª–∏–∑–∞

### –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö
- `data/market_snapshot_example.csv` - —Ç–µ–∫—É—â–∏–µ –¥–∞–Ω–Ω—ã–µ —Ä—ã–Ω–∫–∞
- `data/costs_template.csv` - —Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –∑–∞—Ç—Ä–∞—Ç
- `data/inventory_template.csv` - –æ—Å—Ç–∞—Ç–∫–∏ –∏ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–∫—É–ø–∫–∏
- `data/daily/` - –∞—Ä—Ö–∏–≤ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö —Å–±–æ—Ä–æ–≤
- `config/scheduler.json` - –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞ (`config/scheduler.json`)
```json
{
  "data_collection": {
    "enabled": true,
    "times": ["08:00", "14:00", "20:00"],
    "categories": ["smartphones", "laptops", "tablets"],
    "pages": 2,
    "max_items": 100
  },
  "notifications": {
    "forecast_frequency": "daily",
    "enabled": true,
    "time": "09:00"
  }
}
```

### –ß–∞—Å—Ç–æ—Ç–∞ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π
- `daily` - –ï–∂–µ–¥–Ω–µ–≤–Ω–æ
- `weekly` - –ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ (–ø–æ –ø–æ–Ω–µ–¥–µ–ª—å–Ω–∏–∫–∞–º)
- `biweekly` - –ö–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏
- `monthly` - –ï–∂–µ–º–µ—Å—è—á–Ω–æ

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

### –§–∞–π–ª—ã –ª–æ–≥–æ–≤
- `logs/scheduler.log` - –ª–æ–≥–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫–∞
- `logs/service.log` - –ª–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞
- `logs/xhr_resp_*.json` - –¥–∞–º–ø—ã XHR-–∑–∞–ø—Ä–æ—Å–æ–≤ –ø–∞—Ä—Å–µ—Ä–∞

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- –°—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- Telegram —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö
- –ü—Ä–æ–≤–µ—Ä–∫–∞ —á–µ—Ä–µ–∑ `check_status.bat`

## üîß Troubleshooting

### –ï—Å–ª–∏ –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ `pip install schedule`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ `config/scheduler.json` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –Ω–∞ –∑–∞–ø–∏—Å—å –≤ –ø–∞–ø–∫—É `logs/`

### –ï—Å–ª–∏ –Ω–µ –ø—Ä–∏—Ö–æ–¥—è—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Telegram –≤ `streamlit/secrets.toml`
2. –£–±–µ–¥–∏—Ç–µ—Å—å —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ —á–∞—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏

### –ï—Å–ª–∏ –ø–∞—Ä—Å–µ—Ä –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Playwright: `playwright install chromium`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É
3. –£–≤–µ–ª–∏—á—å—Ç–µ –∑–∞–¥–µ—Ä–∂–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö

---

## üìã **Changelog**

### v2.0.0 (29.09.2025)
- ‚ú® **–ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è**: –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á —Å 3-–∫—Ä–∞—Ç–Ω—ã–º –µ–∂–µ–¥–Ω–µ–≤–Ω—ã–º —Å–±–æ—Ä–æ–º –¥–∞–Ω–Ω—ã—Ö
- ü§ñ **Telegram-–±–æ—Ç**: –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è (–µ–∂–µ–¥–Ω–µ–≤–Ω–æ/–µ–∂–µ–Ω–µ–¥–µ–ª—å–Ω–æ/–∫–∞–∂–¥—ã–µ 2 –Ω–µ–¥–µ–ª–∏/–µ–∂–µ–º–µ—Å—è—á–Ω–æ)
- üéõÔ∏è **–í–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å**: –≤–∫–ª–∞–¥–∫–∞ "–ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è" —Å –ø–æ–ª–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º
- üîß **–°–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞**: —Ñ–æ–Ω–æ–≤—ã–π —Å–µ—Ä–≤–∏—Å —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º —á–µ—Ä–µ–∑ –±–∞—Ç–Ω–∏–∫-—Ñ–∞–π–ª—ã
- üìä **–†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞**: –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–æ–≥–Ω–æ–∑—ã —Ü–µ–Ω –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏
- üßπ **–û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞**: —É–¥–∞–ª–µ–Ω—ã —ç–∫—Å–ø–µ—Ä–∏–º–µ–Ω—Ç–∞–ª—å–Ω—ã–µ —Ñ–∞–π–ª—ã, —É–ª—É—á—à–µ–Ω–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- üìö **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –ø–æ–¥—Ä–æ–±–Ω—ã–µ –≥–∞–π–¥—ã –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é

### v1.0.0 (23.09.2025)  
- üéâ –ü–µ—Ä–≤—ã–π —Ä–µ–ª–∏–∑ —Å –±–∞–∑–æ–≤—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
- üìà Streamlit –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ  
- üï∏Ô∏è –ü–∞—Ä—Å–µ—Ä Kaspi.kz –Ω–∞ Playwright
- üí∞ –ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —ç–∫–æ–Ω–æ–º–∏–∫–∏ –∏ —Å–µ–±–µ—Å—Ç–æ–∏–º–æ—Å—Ç–∏

---

## ü§ù **–ü–æ–¥–¥–µ—Ä–∂–∫–∞**

- **Issues**: [GitHub Issues](https://github.com/dossanadilet/ecom-kaspi-starter/issues)
- **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: –°–º. —Ñ–∞–π–ª—ã `TELEGRAM_SETUP.md` –∏ `README.md`
- **Email**: [–≤–∞—à email –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∫–∏]

**–°–æ–∑–¥–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ç–æ—Ä–≥–æ–≤–ª–∏**
